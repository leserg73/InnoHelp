<!DOCTYPE html>
<html lang="ru" data-theme="light">
  <head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <meta http-equiv="Content-Language" content="ru" />
    <meta http-equiv="X-UA-Compatible" content="IE=11" />
    <meta content="Перевод на русский: Сергей Леонов (aka Leserg)" name="description" />
    <title>[Setup]: UseSetupLdr</title>
    <link rel="stylesheet" type="text/css" href="../css/styles.css" />
    <link rel="stylesheet" type="text/css" href="../css/shared.css" />
    <script type="text/javascript" src="../js/topic.js"></script>
    <script type="text/javascript" src="../js/jquery.js"></script>
    <script type="text/javascript" src="../js/highlight.js"></script>
    <script type="text/javascript">
      $(document).ready(function(){highlight();});
    </script>
  </head>
  <body>
    <h1 class="topicheading">[Setup]: UseSetupLdr</h1>
    <div class="topicbody">
      <table class="setuphdr">
        <tbody>
          <tr class="setuphdrtr1">
            <td class="setuphdrl">
              <p>Допустимые значения:</p>
            </td>
            <td class="setuphdrr">
              <div class="margined"><a href="topic_yesnonotes.htm"><code>yes</code>
                  или <code>no</code></a>, или <code>x86</code>, или <code>x64</code> </div>
            </td>
          </tr>
          <tr class="setuphdrtr2">
            <td class="setuphdrl">
              <p>Значение по умолчанию:</p>
            </td>
            <td class="setuphdrr">
              <div class="margined"><code>yes</code> </div>
            </td>
          </tr>
        </tbody>
      </table>
      <h2 class="heading">Описание</h2>
      <p>Эта директива сообщает компилятору о типе создаваемой
        программы установки. Если указано значение <tt>yes</tt>, то все данные
        установки компилируются в один файл EXE. При значении <tt>no</tt> все
        данные установки компилируются как минимум в три файла: setup.exe,
        setup-0.bin и setup-1.bin. <b>Возможной</b> причиной, по которой следует
        использовать значение <tt>no</tt>, является отладка программы установки.</p>
      <p>При компиляции данных программы установки в один исполняемый файл EXE,
        используется программа загрузки, которая называется <i>SetupLdr</i>. Если
        применяется значение <tt>yes</tt> или <tt>x86</tt>, используется
        32-разрядная версия SetupLdr, которая работает на системах, способных
        запускать 32-разрядные x86-двоичные файлы. К ним относятся системы под
        управлением Windows x86, Windows x64, а также Arm64 Windows 10 и 11,
        которые могут запускать двоичные файлы x86 посредством эмуляции.</p>
      <p>Если применяется значение <tt>x64</tt>, используется 64-разрядная версия
        SetupLdr, которая работает на системах, способных запускать двоичные
        файлы x64. К ним относятся системы под управлением Windows x64, а также
        системы Windows 11 на базе Arm64, которые могут запускать двоичные файлы
        x64 посредством эмуляции.</p>
      <p><i>Примечание:</i> использование <tt>x64</tt> не означает, что программа
        установки будет 64-разрядной: в настоящее время инсталлятор всегда
        собирается как 32-разрядный двоичный файл x86. Но использование значения
        <tt>x64</tt> в любом случае имеет несколько преимуществ: инсталлятор
        изначально представляет себя как нативный 64-разрядный исполняемый файл,
        64-разрядный загрузчик имеет включенную ASLR с высокой энтропией и больше
        не использует надстройку эмуляции WOW64. Кроме того, это может помочь
        удовлетворить требования политики безопасности или сторонних производителей,
        которые требуют 64-разрядные установщики, даже если основная программа
        установки по-прежнему является 32-разрядной.</p>
      <p><i>Замечание:</i> не используйте значение <tt>no</tt> в установках с
        разделением данных (<tt>DiskSpanning=yes</tt>). При значении <tt>yes</tt>
        программа установки копируется и запускается из пользовательской папки
        TEMP. Этого не происходит, если параметр имеет значение <tt>no</tt>,
        и может привести к ошибкам, когда Windows попытается найти файл setup.exe
        там, где его нет (например, в приводе находится другой диск).</p>
      <p><i>Замечание:</i> не используйте значение <tt>no</tt> на больших
        инсталляторах. Во время запуска это приведёт к задержкам при проверке
        цифровой подписи. Вместо этого используйте разделение на диски. Обратите
        внимание, цифровая подпись программы установки при использовании значения
        <tt>no</tt> станет недействительной для программы удаления. Дополнительную
        информацию см. в разделе <a href="topic_setup_signtool.htm">SignTool</a>.</p>
    </div>
  <script type="text/javascript" src="../js/theme_selector.js"></script>
  </body>
</html>
