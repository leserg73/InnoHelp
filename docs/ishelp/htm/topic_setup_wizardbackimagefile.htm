<!DOCTYPE html>
<html lang="ru" data-theme="light">
  <head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <meta http-equiv="Content-Language" content="ru" />
    <meta http-equiv="X-UA-Compatible" content="IE=11" />
    <meta content="Перевод на русский: Сергей Леонов (aka Leserg)" name="description" />
    <title>[Setup]: WizardBackImageFile</title>
    <link rel="stylesheet" type="text/css" href="../css/styles.css" />
    <link rel="stylesheet" type="text/css" href="../css/shared.css" />
    <script type="text/javascript" src="../js/topic.js"></script>
    <script type="text/javascript" src="../js/jquery.js"></script>
    <script type="text/javascript" src="../js/highlight.js"></script>
    <script type="text/javascript">
      $(document).ready(function(){highlight();});
    </script>
  </head>
  <body>
    <h1 class="topicheading">[Setup]: WizardBackImageFile</h1>
    <div class="topicbody">
      <table class="setuphdr">
        <tbody>
          <tr class="setuphdrtr2">
            <td class="setuphdrl">
              <p>Значение по умолчанию:</p>
            </td>
            <td class="setuphdrr">
              <div class="margined"><i>(пустое)</i></div>
            </td>
          </tr>
        </tbody>
      </table>
      <h2 class="heading">Описание</h2>
      <p>Эта директива определяет имя файла изображения, которое будет установлено
        в качестве фона на всех страницах мастера установки, но не страницах
        деинсталлятора. При указании файлов поддерживается маска имён, но сами
        файлы изображений должны находиться в <a
        href="topic_sourcedirectorynotes.htm">исходном каталоге</a> сценария, в
        противном случае к изображениям необходимо указывать полные пути. При
        использовании приставки "compiler:", компилятор будет искать эти файлы в
        собственном каталоге.</p>
      <p>Поддерживаются изображения в формате .bmp и .png, включая прозрачность
        в этих изображениях. Используйте директиву <a
        href="topic_setup_wizardimagebackcolor.htm">WizardImageBackColor</a> для
        настройки цвета фона. Возможно использование .bmp файлов с прозрачностью
        (дополнительную информацию смотрите в разделе <a
        href="topic_setup_wizardimagealphaformat.htm">WizardImageAlphaFormat</a>).
        Также можно использовать директиву <a
        href="topic_setup_wizardbackimageopacity.htm">WizardBackImageOpacity</a>
        для увеличения прозрачности.</p>
      <p>Размер области, в которой выводится изображение, зависит от системных
        настроек DPI и используемых <a href="topic_langoptionssection.htm">параметров
        шрифта</a>, а также значений директив <a
        href="topic_setup_wizardsizepercent.htm">WizardSizePercent</a> и
        <a href="topic_setup_wizardkeepaspectratio.htm">WizardKeepAspectRatio</a>.
        Если для <tt>WizardKeepAspectRatio</tt> установлено значение <tt>yes</tt>
        (по умолчанию), сохраняется соотношение сторон 497:360. Указанное изображение
        должно иметь такое же соотношение сторон.</p>
      <p>Можно использовать изображение любого размера. Если изображения слишком
        малы или слишком велики, чтобы поместиться в заданные границы, то они
        будут растянуты или сжаты. Рекомендуется указывать изображение размером
        более 596x432 пикселей. Это позволяет избежать размытости и нечеткости
        изображения на системах с высоким уровнем PDI.</p>
      <p>Если одно изображение большого размера при разных настройках DPI не даёт
        удовлетворительного результата, можно указать несколько файлов, разделив
        их запятыми. Программа установки автоматически выберет из них то, которое
        лучше всего соответствует размеру области изображения. При условии
        использования настроек шрифта, значений <tt>WizardSizePercent</tt> и
        <tt>WizardKeepAspectRatio</tt> по умолчанию размер области изображения с
        различными настройками DPI будет составлять (в пикселях):</p>
      <table>
      <tr><td class="cellleft">100%</td><td class="cellright">596x432</td></tr>
      <tr><td class="cellleft">125%</td><td class="cellright">796x576</td></tr>
      <tr><td class="cellleft">150%</td><td class="cellright">994x720</td></tr>
      <tr><td class="cellleft">175%</td><td class="cellright">1193x864</td></tr>
      <tr><td class="cellleft">200%</td><td class="cellright">1272x922</td></tr>
      <tr><td class="cellleft">225%</td><td class="cellright">1471x1066</td></tr>
      <tr><td class="cellleft">250%</td><td class="cellright">1630x1148</td></tr>
      </table>
      <p>(Можно заметить, что размер в 200% не соответствует удвоенному размеру
        в 100%. Это обусловлено тем, что коэффициент масштабирования основан на
        размере шрифта, который используется при настройке DPI, а не на самом
        DPI).</p>
      <p>Если для директивы задано пустое значение, фоновое изображение не
        используется.</p>
      <p>В противном случае, если для <a
        href="topic_setup_wizardstyle.htm">WizardStyle</a> не указан стиль,
        автоматически активируется стиль <tt>windows11</tt> с модификаторами
        <tt>excludelightcontrols</tt> и <tt>hidebevels</tt>. Заметьте, что
        в светлом режиме стиль <tt>windows11</tt> использует для фона не совсем
        белый цвет. Чтобы вернуть прежний вид, установите для <tt>WizardBackColor</tt>
        значение <tt>white</tt>.</p>
      <p>Чтобы скрыть изображения мастера и оставить только изображение фона,
        укажите директивам <a href="topic_setup_wizardimagefile.htm">WizardImageFile</a>
        и <a href="topic_setup_wizardsmallimagefile.htm">WizardSmallImageFile</a>
        пустые значения. В качестве альтернативы установите для директивы
        <a href="topic_setup_wizardimageopacity.htm">WizardImageOpacity</a>,
        например, значение <tt>150</tt>, что сделает эти изображения частично
        прозрачными.</p>
      <p>Используйте функцию <a href="topic_isxfunc_wizardsetbackimage.htm">WizardSetBackImage</a>
        для установки, обновления или удаления фонового изображения во время
        выполнения.</p>
      <h2 class="heading">Пример</h2>
      <pre class="indent examplebox"><span class="hl slc">; Использование раздельных изображений фона для светлой и тёмной темы</span>
<span class="hl kwb">WizardBackImageFile</span>=MyBackImage.png
<span class="hl kwb">WizardBackImageFileDynamicDark</span>=MyBackImage_Dark.png
<span class="hl slc">; Скрываем большое и малое изображения мастера</span>
<span class="hl kwb">WizardImageFile</span>=
<span class="hl kwb">WizardSmallImageFile</span>=

<span class="hl slc">; Использование одного изображения фона для светлой и тёмной темы</span>
<span class="hl kwb">WizardBackImageFile</span>=MyBackImage.png
<span class="hl kwb">WizardBackImageFileDynamicDark</span>=MyBackImage.png
<span class="hl slc">; Применяем прозрачность к изображению фона, чтобы оно</span>
<span class="hl slc">; хорошо смотрелось как в светлой, так и в тёмной теме</span>
<span class="hl kwb">WizardBackImageOpacity</span>=<span class="hl num">150</span>
<span class="hl slc">; Оставляем большое и малое изображения мастера, применив прозрачность,</span>
<span class="hl slc">; чтобы они равномерно сливались с изображением фона</span>
<span class="hl kwb">WizardImageOpacity</span>=<span class="hl num">150</span>

<span class="hl slc">; Использование фонового изображения в мастере установки,</span>
<span class="hl slc">; а также фонового цвета в других окнах и деинсталляторе</span>
<span class="hl kwb">WizardBackImageFile</span>=MyBackImage.png
<span class="hl kwb">WizardBackImageFileDynamicDark</span>=MyBackImage.png
<span class="hl kwb">WizardBackColor</span>=<span class="hl kwf">#ffc0cb</span>
<span class="hl kwb">WizardBackColorDynamicDark</span>=<span class="hl kwf">#570c22</span>
<span class="hl slc">; На страницах мастера смешиваем изображение фона и цвет</span>
<span class="hl kwb">WizardBackImageOpacity</span>=<span class="hl num">150</span></pre>
      <h2 class="heading">См. также:</h2>
        <p class="indent"><a href="topic_setup_wizardimagefile.htm">WizardImageFile</a><br />
        <a href="topic_setup_wizardsmallimagefile.htm">WizardSmallImageFile</a><br />
        <a href="topic_setup_wizardbackcolor.htm">WizardBackColor</a><br />
        <a href="topic_setup_wizardbackimageopacity.htm">WizardBackImageOpacity</a><br />
        <a href="topic_setup_wizardimagealphaformat.htm">WizardImageAlphaFormat</a><br />
        <a href="topic_setup_wizardimagestretch.htm">WizardImageStretch</a>
        </p>
    </div>
  <script type="text/javascript" src="../js/theme_selector.js"></script>
  </body>
</html>
