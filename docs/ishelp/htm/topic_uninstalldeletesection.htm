<!DOCTYPE html>
<html lang="ru" data-theme="light">
  <head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <meta http-equiv="Content-Language" content="ru" />
    <meta http-equiv="X-UA-Compatible" content="IE=11" />
    <meta content="Перевод на русский: Сергей Леонов (aka Leserg)" name="description" />
    <title>Секция [UninstallDelete]</title>
    <link rel="stylesheet" type="text/css" href="../css/styles.css" />
    <link rel="stylesheet" type="text/css" href="../css/shared.css" />
    <script type="text/javascript" src="../js/topic.js"></script>
    <script type="text/javascript" src="../js/jquery.js"></script>
    <script type="text/javascript" src="../js/highlight.js"></script>
    <script type="text/javascript">
      $(document).ready(function(){highlight();});
    </script>
  </head>
  <body>
    <h1 class="topicheading">Секция [UninstallDelete]</h1>
    <div class="topicbody">
      <p>Эта секция является необязательной и определяет любые
        файлы или папки, которые должен удалить деинсталлятор, кроме тех, что
        были созданы/установлены с помощью записей в секции <tt>[Files]</tt>
        или <tt>[Dirs]</tt>. Наиболее частое использование этой секции —
        удаление файлов INI, создаваемых приложением. Все записи, указанные в
        этой секции, программа удаления обрабатывает на последнем этапе
        деинсталляции.</p>
      <p>Пример секции <tt>[UninstallDelete]</tt>:</p>
      <pre class="indent examplebox"><span class="hl kwa">[UninstallDelete]</span>
<span class="hl kwb">Type</span>: <span class="hl kwe">files</span>; <span class="hl kwb">Name</span>: "<span
class="hl kwc">{win}</span>\MYPROG.INI"</pre>
      <p>Ниже приведен список поддерживаемых <a href="topic_params.htm">параметров</a>:</p>
      <dl>
        <dt class="paramlist"><b><a name="Type">Type</a></b>&nbsp;&nbsp;<i>(обязательный)</i></dt>
        <dd class="paramlist">
          <p>Позволяет задать тип удаляемых данных. Принимает одно из следующих
            значений:</p>
          <dl>
            <dt class="flaglist"><a name="files">files</a></dt>
            <dd>
              <p>Функция удаления файлов. Параметр <tt>Name</tt> указывает имя
                конкретного файла или маску файлов.</p>
            </dd>
            <dt class="flaglist"><a name="filesandordirs">filesandordirs</a></dt>
            <dd>
              <p>Функция аналогична <tt>files</tt> за исключением того, что
                указанное имя определяет папки, которые будут удалены вместе со
                всеми файлами и вложенными каталогами.</p>
            </dd>
            <dt class="flaglist"><a name="dirifempty">dirifempty</a></dt>
            <dd>
              <p>Функция удаления папки, которая не содержит файлов и
                подкаталогов (является пустой). Параметр <tt>Name</tt> должен
                содержать имя папки без символов подстановки.</p>
            </dd>
          </dl>
          <div class="examplebox">
            <div class="exampleheader">Пример:</div>
            <pre class="nomargin"><span class="hl kwb">Type</span>: <span class="hl kwe">files</span></pre>
          </div>
        </dd>
        <dt class="paramlist"><b><a name="Name">Name</a></b>&nbsp;&nbsp;<i>(обязательный)</i></dt>
        <dd class="paramlist">
          <p>Определяет имя удаляемого файла или папки.</p>
          <p><b>ВНИМАНИЕ!</b> Не пытайтесь здесь использовать маску для удаления
            всех файлов в каталоге {app}. Делать этого настоятельно не
            рекомендуется по двум причинам. Во-первых, пользователям обычно не
            нравится, когда файлы, которые они поместили в каталог приложения
            (например, планируют переместить их на другой диск), удаляются без
            предупреждения. Лучше предоставить конечным пользователям
            возможность ручного удаления этих файлов, если в этом возникнет
            необходимость. Во-вторых, если пользователь случайно установит
            программу в ошибочно выбранный каталог (например, C:\WINDOWS), а
            затем выполнит её деинсталляцию, то последствия могут оказаться
            катастрофическими. Поэтому ещё раз, <b>НЕ ДЕЛАЙТЕ ЭТОГО!</b></p>
          <div class="examplebox">
            <div class="exampleheader">Пример:</div>
            <pre class="nomargin"><span class="hl kwb">Name</span>: "<span class="hl kwc">{win}</span>\MYPROG.INI"</pre>
          </div>
        </dd>
      </dl>
      <p><b><a href="topic_componentstasksparams.htm">Параметры секций
            [Components] и [Tasks]</a></b></p>
      <p><b><a href="topic_commonparams.htm">Общие параметры</a></b></p>
    </div>
  <script type="text/javascript" src="../js/theme_selector.js"></script>
  </body>
</html>
