<!DOCTYPE html>
<html lang="ru">
  <head>
    <meta content="text/html; charset=utf-8" http-equiv="content-type">
    <meta name="author" content="Перевод на русский: Sergii Leonov">
    <title>История версий Inno Setup 6</title>
    <base href="https://jrsoftware.org/">
    <style type="text/css">
        :root {
          color-scheme: light dark;
          --main-fg-color: light-dark(#282828, #d6d6d6);
          --main-bg-color: light-dark(white, #1f1f1f);
          --link-fg-color: light-dark(hsl(206, 100%, 37%), hsl(206, 100%, 50%));
          --link-hover-fg-color: light-dark(hsl(206, 100%, 27%), hsl(206, 100%, 43%));
          --code-bg-color: light-dark(#f0f0f0, #353135);
        }
        body         { font: calc(14rem/16)/1.5 "Segoe UI", sans-serif; color: var(--main-fg-color); background-color: var(--main-bg-color) }
        a:link, a:visited { color: var(--link-fg-color); background-color: transparent; text-decoration: none }
        a[href]:hover { color: var(--link-hover-fg-color); text-decoration: underline }
        tt, pre      { font: calc(13rem/16)/calc(21rem/16) monospace; color: inherit; background-color: var(--code-bg-color) }
        tt           { padding: 2px 4px; border-radius: 4px }
        pre          { line-height: normal; padding: 10px; border-radius: 6px; overflow-x: auto }
        li, div.limargins { margin-block: calc(5rem/16) }
        div.bluehead { text-align: center; color: white; background-color: hsl(206, 100%, 30%); padding: 5px; font-weight: bold; line-height: normal }
        .date        { font-size: calc(11rem/16); font-weight: bold }
        .head1       { font-size: calc(32rem/16) }
        .head2       { font-size: calc(20rem/16) }
        .ver         { font-size: calc(20rem/16); font-weight: bold }
        code.innosetup .sec { font-weight: bold }
        code.innosetup .key { color: #0078d4 }
        code.innosetup .com { color: #339933 }
        code.innosetup .con { color: #9262a8 }
    </style>
</head>
  <body>
    <div class="bluehead"><span class="head1">Inno Setup 6</span><br>
      <span class="head2">История версий</span></div>
    <p>Авторские права © 1997-2025 <a href="./">Jordan Russell</a>. Все права
      защищены.<br>
      Смежные авторские права © 2000-2025 Martijn Laan. Все права защищены.<br>
      Условия распространения и использования смотрите в <a href="files/is/license.txt">LICENSE.TXT</a>.
    </p>
    <p><b>Хотите получать уведомления об обновлениях?</b> <a href="ismail.php">Подпишитесь</a>
      на рассылку о новых выпусках Inno Setup.</p>
    <p><a name="6.5.2"></a><span class="ver">6.6.0-dev </span><span class="date">(?)</span></p>
    <p>Спасибо всем, кто уже приобрел лицензию! Ваша поддержка очень важна для
        нашего дальнейшего развития.</p>
    <span class="head2">Модернизация графики в инсталляторе/деинсталляторе</span>
    <p>Программа установки и удаления теперь поддерживает тёмную тему:
      принудительно или автоматически.</p>
    <p>Все эти параметры являются дополнительными, имеют обратную совместимость
      и <i>НЕ</i> увеличивают размер инсталлятора, если не используются.</p>
    <ul>
      <li>В секции <tt>[Setup]</tt> директива <tt>WizardStyle</tt> дополнена
        новыми параметрами:
      <ul>
        <li>Добавлены режимы внешнего вида: <tt>light</tt> (по умолчанию, стандартная
          светлая тема, что и в предыдущих версиях), <tt>dark</tt> (принудительная
          тёмная тема, новый внешний вид) и <tt>dynamic</tt> (автоматическая
          установка темы в зависимости от системных настроек темы Windows).</li>
        <li>Например, чтобы использовать современный стиль с автоматическим выбором
          между светлой и тёмной темами в зависимости от настроек Windows, следует
          указать директиву со следующим значением:
        <pre><code class="innosetup"><span class="key">WizardStyle</span>=modern dynamic</code></pre>
        </li>
        <li>Тёмная тема автоматически заменяет значки, изображения мастера и
          цвета, сохраняя при этом единообразный интерфейс. Также по-прежнему
          доступна настройка главного значка, изображений мастера и цветов.
          Включает поддержку стилизации диалоговых окон задач.<br />
        <a href="https://jrsoftware.org/images/is-welcome-dark-org-150.png">Скриншот
          окна инсталлятора с тёмным стилем при DPI 150%</a>.<br />
        <a href="https://jrsoftware.org/images/is-taskdialog-dark-org-125.png">Скриншот
          диалога задач с тёмным стилем при DPI 125%</a>.
        </li>
        <li>Для получения дополнительной информации смотрите обновленный раздел
          справки с описанием директивы <a 
          href="https://jrsoftware.org/ishelp/index.php?topic=setup_wizardstyle">WizardStyle</a>.</li>
      </ul>
      </li>
      <li>В секции <tt>[Setup]</tt> добавлены новые директивы <tt>DynamicDark</tt> 
        для указания отдельных пользовательских изображений и цветов, которые
        специально будут использоваться в режиме <tt>dynamic</tt> при переключении
        на тёмную тему.
      <ul>
        <li>Например, укажите два пользовательских цвета: один для светлой темы,
          а другой для тёмной:
          <pre><code class="innosetup"><span class="key">WizardStyle</span>=modern dynamic
<span class="key">WizardImageBackColor</span>=clWhite
<span class="key">WizardImageBackColorDynamicDark</span>=#2b2b2b</code></pre>
        Примечание: принудительная установка тёмной темы (<tt>dark</tt>) не
        использует настройки <tt>DynamicDark</tt>, а использует стандартные
        настройки. Например:
          <pre><code class="innosetup"><span class="key">WizardStyle</span>=modern dark
<span class="key">WizardImageBackColor</span>=#2b2b2b</code></pre>
        </li>
      </ul>
      </li>
      <li>Стиль по умолчанию можно заменить на другой файл VCL-стиля с помощью
        новой директивы <tt>WizardStyleFile</tt> и директивы <tt>DynamicDark</tt>.
      <ul>
        <li>Например, чтобы использовать другие стили для светлой и тёмной тем,
          укажите соответствующие файлы стилей:
          <pre><code class="innosetup"><span class="key">WizardStyle</span>=modern dynamic
<span class="key">WizardStyleFile</span>=MyStyleLight.vsf
<span class="key">WizardStyleFileDynamicDark</span>=MyStyleDark.vsf</code></pre>
        <a href="https://jrsoftware.org/images/is-welcome-polarlight-org-150.png">Скриншот
          инсталлятора со стилем Polar Light при DPI 150%</a>.<br/>
        <a href="https://jrsoftware.org/images/is-welcome-polardark-org-150.png">Скриншот
          инсталлятора со стилем Polar Dark при DPI 150%</a>.<br/>
        <a href="https://jrsoftware.org/images/is-taskdialog-zircon-org-125.png">Скриншот
          диалога задач со стилем Zircon при DPI 125%</a>.
        </li>
        <li>Если активен пользовательский стиль (включая встроенную тёмную тему),
          все текстовые метки, за исключением метки, связанной с сообщением
          <tt>BeveledLabel</tt>, имеют прозрачный фон. Кроме того, программа
          установки и удаления использует индивидуальную реализацию диалоговых
          окон Windows.</li>
        <li>Показанный выше стиль "Polar" является встроенным и напрямую
          поддерживается директивой <tt>WizardStyle</tt> напрямую. Например:
        <pre><code class="innosetup"><span class="key">WizardStyle</span>=modern dynamic polar</code></pre>
        </li>
        <li>Дополнительно доступно ещё три встроенных стиля, поддерживаемых
          директивой <tt>WizardStyle</tt>: <tt>slate</tt>, <tt>windows11</tt> и
          <tt>zircon</tt>. Стиль <tt>slate</tt> использует средне-серый цвет как
          для светлого, так и для тёмного оформления, <tt>windows11</tt> является
          светлым аналогом встроенного тёмного стиля, а <tt>zircon</tt> – это
          альтернативный светлый стиль с голубыми акцентами, показанный выше. Например:
        <pre><code class="innosetup"><span class="key">WizardStyle</span>=modern zircon</code></pre>
        </li>
        <li>Также поддерживается модификатор <tt>includetitlebar</tt>: позволяет
          настраивать стили заголовков и границ. По умолчанию вместо них используется
          системный светлый или тёмный заголовок. Например:
        <pre><code class="innosetup"><span class="key">WizardStyle</span>=modern dynamic polar includetitlebar</code></pre>
        </li>
      </ul>
      </li>
      <li>IDE компилятора: в мастер создания нового сценария добавлена страница
        <i>Wizard Style</i>, которая позволяет выбрать стиль и увидеть его пример.</li>
      <li>Программирование на языке Паскаль:
      <ul>
        <li>Добавлены функции <tt>IsWinDark</tt> и <tt>IsDarkInstallMode</tt>.</li>
        <li>Добавлены свойства <tt>StyleElements</tt> и <tt>StyleName</tt> для
          класса <tt>TControl</tt>. В качестве примера смотрите сценарий 
          <i><a href="https://raw.githubusercontent.com/jrsoftware/issrc/refs/heads/main/Examples/CodeClasses.iss">CodeClasses.iss</a></i>,
          где также демонстрируется использование <tt>IsDarkInstallMode</tt>.</li>
      </ul>
      </li>
    </ul>
    <span class="head2">Изменения во внешнем виде и работе программы установки</span>
    <ul>
      <li>Теперь вместо пользовательских значков используются высококачественные.
        Это касается страниц мастера "<i>Выбор папки установки</i>" и "<i>Подготовка
        к установке</i>", а также диалога "<i>Необходимо вставить следующий диск</i>".
      </li>
      <li>Стандартный шрифт, используемый на страницах мастера установки и
        удаления, был изменён с 8-point <i>Tahoma</i> на 9-point <i>Segoe UI</i>
        без изменения масштаба, чтобы соответствовать современному внешнему виду.<br />
        Чтобы снова использовать шрифт 8-point <i>Tahoma</i>, используйте
        следующие параметры:
        <pre><code class="innosetup"><span class="sec">[LangOptions]</span>
<span class="key">DialogFontName</span>=Tahoma
<span class="key">DialogFontSize</span>=8
<span class="key">DialogFontBaseScaleHeight</span>=13
<span class="key">DialogFontBaseScaleWidth</span>=6</code></pre>
        Если до этого использовался шрифт 9-point <i>Segoe UI</i>, то после
        обновления вы заметите изменения в масштабировании. Чтобы использовать
        предыдущее масштабирование, примените следующие параметры:
        <pre><code class="innosetup"><span class="sec">[LangOptions]</span>
<span class="key">DialogFontName</span>=Segoe UI
<span class="key">DialogFontSize</span>=9
<span class="key">DialogFontBaseScaleHeight</span>=13
<span class="key">DialogFontBaseScaleWidth</span>=6</code></pre>
      </li>
      <li>Стандартный шрифт заголовков, используемый на страницах мастера
        "<i>Приветствие</i>" и "<i>Установка завершена</i>", был изменён с
        12-point <i>Verdana</i> на 14-point <i>Segoe UI</i>, чтобы соответствовать
        современному внешнему виду.<br />
        Чтобы снова использовать шрифт 12-point <i>Verdana</i>, используйте
        следующие параметры:
        <pre><code class="innosetup"><span class="sec">[LangOptions]</span>
<span class="key">WelcomeFontName</span>=Verdana
<span class="key">WelcomeFontSize</span>=12</code></pre>
      </li>
      <li>Программирование на языке Паскаль:
    <ul>
    <li>Добавлены функции <tt>InitializeBitmapButtonFromStockIcon</tt> и
      <tt>InitializeBitmapImageFromStockIcon</tt>, которые могут использоваться
      для отображения различных высококачественных системных значков во всех
      версиях Windows. В качестве примера смотрите сценарий <i><a 
      href="https://raw.githubusercontent.com/jrsoftware/issrc/refs/heads/main/Examples/CodeClasses.iss">CodeClasses.iss</a></i>,
      а также перечень всех доступных значков на портале <a 
      href="https://learn.microsoft.com/en-us/windows/win32/api/shellapi/ne-shellapi-shstockiconid#constants">Microsoft Learn</a>.<br />
      <a href="https://jrsoftware.org/images/is-codeclasses-stockicons-125.png">Скриншот
      примера CodeClasses.iss при DPI 125% и темном режиме</a>.
    </li>
  </ul>
  </li>
</ul>
    <span class="head2">Другие изменения</span>
    <ul>
      <li>IDE компилятора:
      <ul>
        <li>Улучшен коэффициент контрастности для различных цветов
          подсветки синтаксиса, особенно в темном режиме.</li>
        <li>Шрифт диалоговых окон обновлен с 8-point <i>Segoe UI</i> на 9-point
          <i>Segoe UI</i>.</li>
      </ul>
      </li>
      <li>Директива <tt>WizardSizePercent</tt> в секции <tt>[Setup]</tt> теперь
        поддерживается деинсталлятором. Это означает, что при использовании
        <tt>WizardStyle=modern</tt> размер окна деинсталлятора увеличится на 20%.</li>
      <li>Директива <tt>WizardImageBackColor</tt> в секции <tt>[Setup]</tt> и
        три другие директивы <tt>BackColor</tt> теперь может принимать цвет в
        формате <tt>#rrggbb</tt> дополнительно к формату <tt>$bbggrr</tt>.</li>
      <li>Программирование на языке Паскаль:
      <ul>
        <li>Добавлена поддержка кнопок командных ссылок (стиль кнопок, который
          используется в диалоговых окнах задач). Смотрите пример в сценарии <i><a 
          href="https://raw.githubusercontent.com/jrsoftware/issrc/refs/heads/main/Examples/CodeClasses.iss">CodeClasses.iss</a></i>.</li>
        <li>Добавлены функции <tt>Round</tt>, <tt>Trunc</tt>, <tt>Int</tt> и
          <tt>MulDiv</tt>.</li>
        <li>Добавлена функция <tt>StrToColor</tt>.</li>
        <li>Отменены изменения, сделанные в функции события <tt>CurPageChanged</tt>
          с версии 6.5.0.</li>
      </ul>
      </li>
      <li>Улучшен алгоритм создания случайных имён для временных каталогов при
        установке и деинсталляции.</li>
      <li>Другие улучшения и исправления.</li>
    </ul>
    <p>Используете Inno Setup в коммерческих целях? Пожалуйста, <a 
        href="https://jrsoftware.org/isorder.php">купите лицензию</a>.</p>
    <p><a href="https://leserg73.github.io/InnoHelp/ishistory/whatsnew65.htm">История
      версий Inno Setup 6.5</a></p>
  </body>
</html>
